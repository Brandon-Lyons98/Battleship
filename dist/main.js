(()=>{var t={529:(t,e,r)=>{const s=r(922);let i=new s("carrier",5),n=new s("battleship",4),o=new s("sub",3),a=new s("cruiser",3),h=new s("destroyer",2);t.exports=class{constructor(){this.board=[],this.shipCoords=[]}getBoard(){for(let t=0;t<100;t++)this.board[t]=[];return this.board}placeShip(t,e,r=!1){let s={name:t.name,coords:[]},i=t.length;if(!0===r)for(let t=e;t<e+10*i;t+=10)this.board[t]="O",s.coords.push(t);else for(let t=e;t<e+i;t++)this.board[t]="O",s.coords.push(t);return this.shipCoords.push(s),s}receiveAttack(t){if("O"===this.board[t]){this.board[t]="X";let e=this.updateShipCoords(t);switch(this.updateShipCoords(t),e){case"sub":if(o.hit(),!0===o.isSunk())return o.isSunk();break;case"carrier":if(i.hit(),!0===i.isSunk())return i.isSunk();break;case"destroyer":if(h.hit(),!0===h.isSunk())return h.isSunk();break;case"battleship":if(n.hit(),!0===n.isSunk())return n.isSunk();break;case"cruiser":if(a.hit(),!0===a.isSunk())return a.isSunk();break;default:console.log("ERROR...")}}}updateShipCoords(t){for(let e=0;e<this.shipCoords.length;e++)if(this.shipCoords[e].coords.includes(parseInt(t)))for(let r=0;r<this.shipCoords[e].coords.length;r++)if(this.shipCoords[e].coords[r]===parseInt(t))return this.shipCoords[e].coords[r]="X",this.shipCoords[e].name}checkAllSunk(){return!0===o.sunk&&!0===i.sunk&&!0===h.sunk&&!0===n.sunk&&!0===a.sunk}}},507:t=>{t.exports=class{constructor(t){this.name=t,this.isTurn=!0}setTurn(t){this.isTurn=t}}},922:t=>{t.exports=class{constructor(t,e){this.name=t,this.length=e,this.hits=0,this.sunk=!1,this.isVertical=!1}getName(){return this.name}getLength(){return this.length}setHits(t){this.hits=t}hit(){this.hits++}getLives(){return this.length-this.hits}isSunk(){if(this.hits===this.length)return this.sunk=!0}setVertical(){this.isVertical=!0}}}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}(()=>{const t=r(922),e=r(529),s=r(507),i=document.getElementById("gameboard"),n=document.getElementById("cpu-board"),o=document.getElementById("winner");let a=new t("carrier",5),h=new t("battleship",4),d=new t("sub",3),c=new t("cruiser",3),u=new t("destroyer",2),l=prompt("Enter your name: "),p=new s(l),b=new s("Computer"),f=new e,k=new e;f.getBoard(),k.getBoard(),k.placeShip(d,0),k.placeShip(a,22),k.placeShip(h,4),k.placeShip(c,65),k.placeShip(u,85);for(let t=0;t<100;t++){let e=document.createElement("button");e.classList.add("boardSquares"),e.classList.add("blank"),e.setAttribute("value",t),i.appendChild(e)}for(let t=0;t<100;t++){let e=document.createElement("button");e.classList.add("boardSquares"),e.classList.add("blank"),e.setAttribute("value",t),n.appendChild(e)}f.placeShip(a,parseInt(prompt("Enter the start coordinate for your carrier: ")-1)),f.placeShip(h,parseInt(prompt("Enter the start coordinate for your battleship: ")-1)),f.placeShip(d,parseInt(prompt("Enter the start coordinate for your sub: ")-1)),f.placeShip(c,parseInt(prompt("Enter the start coordinate for your cruiser: ")-1)),f.placeShip(u,parseInt(prompt("Enter the start coordinate for your destroyer: ")-1)),f.board.forEach((()=>{for(let t=0;t<100;t++)"O"===f.board[t]&&(i.children[t].textContent="",i.children[t].classList.add("ship"))}));let m=[];function S(t){for(;m.includes(t);)t=Math.floor(100*Math.random());return m.push(t),t}Array.from(n.children).forEach((t=>{t.addEventListener("click",(()=>{let e=!1,r=t.value;for(;!e;){if(r<0)e=!0;else{if("X"===k.board[r]||"M"===k.board[r])return;0===k.board[r].length?(n.children[r].classList.add("miss"),k.board[r]="M",p.setTurn(!1),b.setTurn(!0)):(k.receiveAttack(r),n.children[r].classList.add("hit"),p.setTurn(!1),b.setTurn(!0),!0===k.checkAllSunk()&&(e=!0,o.textContent=`${l} wins!`))}let t=S(Math.floor(100*Math.random()));if("X"===f.board[t]||"M"===f.board[t])return;0===f.board[t].length?(i.children[t].classList.add("miss"),p.setTurn(!0),b.setTurn(!1)):(f.receiveAttack(t),i.children[t].classList.add("hit"),b.setTurn(!1),p.setTurn(!0),!0===f.checkAllSunk()&&(e=!0,o.textContent="Computer won!")),!0===e&&console.log("GAME OVER!!!")}}))}))})()})();